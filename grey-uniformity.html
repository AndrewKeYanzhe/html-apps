<!doctype html>
<html lang="en" dir="ltr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta http-equiv="Content-Language" content="en" />
	<meta name="msapplication-TileColor" content="#2d89ef">
	<meta name="theme-color" content="#4188c9">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<link rel="icon" href="./favicon.ico" type="image/x-icon"/>
	<link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
	<!-- Generated: 2018-04-16 09:29:05 +0200 -->
	<title>Register - tabler.github.io - a responsive, flat and full featured admin template</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,400,400i,500,500i,600,600i,700,700i&amp;subset=latin-ext">
	<script src="./assets/js/require.min.js"></script>
	<script>
		requirejs.config({
			baseUrl: '.'
		});
	</script>
	<!-- Dashboard Core -->
	<link href="./assets/css/dashboard.css" rel="stylesheet" />
	<script src="./assets/js/dashboard.js"></script>
<!-- 	<script src="https://unpkg.com/@tabler/core@1.0.0-beta3/dist/js/tabler.min.js"></script>
	<link rel="stylesheet" href="https://unpkg.com/@tabler/core@1.0.0-beta3/dist/css/tabler.min.css"> -->
	<!-- c3.js Charts Plugin -->
	<link href="./assets/plugins/charts-c3/plugin.css" rel="stylesheet" />
	<script src="./assets/plugins/charts-c3/plugin.js"></script>
	<!-- Google Maps Plugin -->
	<link href="./assets/plugins/maps-google/plugin.css" rel="stylesheet" />
	<script src="./assets/plugins/maps-google/plugin.js"></script>
	<!-- Input Mask Plugin -->
	<script src="./assets/plugins/input-mask/plugin.js"></script>
	<script type="text/javascript">
		// console.log("hi")
		function setColor(lum_8bit){
			document.getElementById("luminance_8bit").textContent = lum_8bit
			document.getElementById("luminance_percent").textContent = Math.round(lum_8bit/255*100)
			document.body.style.backgroundColor = "rgb("+lum_8bit+","+lum_8bit+","+lum_8bit+")"

		}

		function uncheckRadios(){
			let radios = document.getElementsByClassName("custom-switch-input")
			// console.log(radios)
			for (var i = 0; i < radios.length; i++) {
				radios.item(i).checked = false;
			}
		}

		function applyRadiovalue(lum_8bit){
			document.getElementById("textValue").value = "";
			setColor(lum_8bit)
			document.activeElement.blur()
		}

		function applyTextValue(){
			lum_8bit = Math.round(document.getElementById("textValue").value)
			lum_8bit = Math.min(Math.max(lum_8bit, 0), 255);

			document.getElementById("textValue").value = lum_8bit

			// console.log(isNaN(lum_8bit))
			if (!isNaN(lum_8bit)){
				uncheckRadios()
				setColor(lum_8bit)
			}
		}

		document.onkeydown = checkKey;
		function checkKey(e) {
			e = e || window.event;
			var colorChange = 0

			if (e.keyCode == '38') {
				var colorChange = 1
			}
			else if (e.keyCode == '40') {
				var colorChange = -1
			}

			if (colorChange==1 || colorChange==-1){
				document.getElementById("textValue").value = "";
				uncheckRadios()

				var newColor = Number(document.getElementById("luminance_8bit").textContent) + colorChange
				newColor = Math.min(Math.max(newColor, 0), 255);
				setColor(newColor)
			}

			if (e.keyCode == '32') {
				// console.log("hi")
				var panel = document.getElementById("panel")
				if (panel.style.display === "none") {
					panel.style.display = "block";
				} else {
					panel.classList.toggle('hide');
				}
			}


		}



		function init(){
			// setColor(128)
			// uncheckRadios()
		}

		window.onload = init;




	</script>
	<style type="text/css">

	body {
		background-color: rgb(13,13,13);
		-ms-overflow-style: none; /* for Internet Explorer, Edge */
		scrollbar-width: none; /* for Firefox */
		overflow-y: scroll; 
	}
	body::-webkit-scrollbar {
		display: none; /* for Chrome, Safari, and Opera */
	}

	#panel {
		opacity: 1;
		transition: opacity 0.1s linear;
	}

	#panel.hide {
		opacity: 0;
	}

</style>
</head>
<body class="">
	<div class="page">
		<div class="page-single">
			<div class="container">
				<div class="row">
					<div class="col col-login mx-auto">
						<div class="text-center mb-6">
							<img src="./assets/brand/tabler.svg" class="h-6" alt="">
						</div>
						<div class="card" id="panel">
							<div class="card-body p-6">
								<div class="card-title"><h3>Grey Uniformity Test</h3></div>
								<!-- <p>Luminance</p> -->
								<div class="table-responsive">
									<table class="table table-vcenter">
										<tbody>
											<thead>
												<tr>
													<th>Brightness</th>
													<th>RGB</th>
												</tr>
											</thead>										
											<tr>
												<td>
													<span class="h1" id="luminance_percent">5</span>
													<span class="h3">%</span>
												</td>
												<td>
													<span class="h1" id="luminance_8bit">13</span>
													<span class="text-muted h3">/255</span>
												</td>	
											</tr>
										</tbody>
									</table>
									<div class="alert alert-primary" role="alert">
										Press <span class="tag">UP</span> or <span class="tag">DOWN</span> to change RGB<br>
										<br>	
										Press <span class="tag">SPACE</span> to show/hide this panel
									</div>
									<div class="form-group">
										<div class="form-label">Common reference values</div>
										<div class="custom-switches-stacked">
											<label class="custom-switch">
												<input type="radio" name="option" value="1" class="custom-switch-input" onclick="applyRadiovalue(3)">
												<span class="custom-switch-indicator"></span>
												<span class="custom-switch-description">1% Grey</span>
											</label>
											<label class="custom-switch">
												<input type="radio" name="option" value="2" class="custom-switch-input" checked  onclick="applyRadiovalue(13)">
												<span class="custom-switch-indicator"></span>
												<span class="custom-switch-description">5% Grey</span>
											</label>
											<label class="custom-switch">
												<input type="radio" name="option" value="3" class="custom-switch-input" onclick="applyRadiovalue(64)">
												<span class="custom-switch-indicator"></span>
												<span class="custom-switch-description">25% Grey</span>
											</label>
										</div>
									</div>
									<div class="form-group">
										<label class="form-label">Custom value</label>

										<input type="text" class="form-control" id="textValue" placeholder="RGB luminance value">
									</div>
									<div class="form-footer">
										<button type="submit" class="btn btn-primary btn-block" onclick="applyTextValue()">Apply</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>